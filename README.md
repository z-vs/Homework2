# Кофигурационное управление

## Домашнее задание 2

### Общее описание

Разработать инструмент командной строки для визуализации графа
зависимостей, включая транзитивные зависимости. Сторонние средства для
получения зависимостей использовать нельзя.

Зависимости определяются для git-репозитория. Для описания графа
зависимостей используется представление Mermaid. Визуализатор должен
выводить результат в виде сообщения об успешном выполнении и сохранять граф
в файле формата png.

Построить граф зависимостей для коммитов, в узлах которого содержатся
хеш-значения. Граф необходимо строить только для тех коммитов, где фигурирует
файл с заданным хеш-значением.

Конфигурационный файл имеет формат ini и содержит:

• Путь к программе для визуализации графов.
• Путь к анализируемому репозиторию.
• Путь к файлу с изображением графа зависимостей.
• Файл с заданным хеш-значением в репозитории.

Все функции визуализатора зависимостей должны быть покрыты тестами.

### Классы и функции

##### read_config(config_path)

Функция читает конфигурационный файл INI-формата по указанному пути config_path с помощью библиотеки configparser. Возвращает объект конфигурации, который позволяет извлекать значения параметров из файла.

##### is_git_repository(repo_path) 

Функция проверяет, является ли указанная директория repo_path Git-репозиторием, выполняя команду git rev-parse --is-inside-work-tree.

##### get_commits_for_file(repo_path, file_hash)

Функция выполняет команду Git для получения списка коммитов, в которых был изменен файл с заданным хешем. Используется команда git log для получения истории изменений файла.

##### generate_mermaid_graph(commits)

Функция генерирует описание графа в формате Mermaid на основе списка коммитов. Этот граф может быть использован для визуализации зависимостей между коммитами.

##### generate_image_from_mermaid(graph_description, output_image, graph_tool_path)

Функция генерирует изображение на основе описания графа в формате Mermaid. Для этого используется внешняя утилита (например, Mermaid CLI) для рендеринга изображения.

### Примеры использования

Вывод результата в виде сообщения об успешном выполнении.

![image](https://github.com/user-attachments/assets/14c157ed-3e9c-45e2-a92d-a7d88d24e1fb)

Граф в файле формата png.

![graph](https://github.com/user-attachments/assets/277f610d-6a75-46bc-b3e9-5be152a0bec0)

### Результаты прогона тестов

![image](https://github.com/user-attachments/assets/c837bf53-c94a-4101-8438-8b81db078c2d)


